import{_ as D,r as n,l as j,o as a,c as d,a as e,t as c,d as q,w as C,v as U,n as S,b as w,h as Q,i as X,u as Y,j as F,F as V,k as I,f as E}from"./index--2fNskIG.js";const Z={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center"},ee={class:"bg-white p-6 rounded-lg shadow-md w-1/2"},te={class:"text-xl font-semibold mb-4 text-center"},se={key:0,class:"text-sm text-red-600 ml-1"},oe={key:0,class:"text-sm text-red-600 ml-1"},ne={key:0,class:"text-sm text-red-600 ml-1"},le={key:0,class:"text-sm text-red-600 ml-1"},ae={class:"action float-end mt-5"},de={type:"submit",class:"bg-green-500 text-white p-2 rounded"},re={__name:"UserForm",props:{isOpen:Boolean,isEdit:Boolean,user:Object},emits:["submit","close"],setup(m,{emit:h}){const p=m,x=h,t=n({...p.user}),i=n(!1),u=n(!1),g=n(!1),b=n(!1);j(()=>p.user,v=>{t.value={...v}});function _(){if(i.value=!1,u.value=!1,g.value=!1,b.value=!1,!t.value.Firstname)return i.value=!0;if(!t.value.Lastname)return u.value=!0;if(!t.value.username)return g.value=!0;if(!t.value.password)return b.value=!0;x("submit",{...t.value})}function y(){x("close")}return(v,r)=>m.isOpen?(a(),d("div",Z,[e("div",ee,[e("h2",te,c(m.isEdit?"Edit User":"Add User"),1),e("form",{onSubmit:q(_,["prevent"]),class:"mb-6"},[e("div",null,[C(e("input",{"onUpdate:modelValue":r[0]||(r[0]=f=>t.value.Firstname=f),placeholder:"First Name",class:S(["border p-2 mb-2 w-full rounded-lg",i.value?"border border-red-600":""])},null,2),[[U,t.value.Firstname]]),i.value?(a(),d("div",se,"Firstname is required!")):w("",!0)]),e("div",null,[C(e("input",{"onUpdate:modelValue":r[1]||(r[1]=f=>t.value.Lastname=f),placeholder:"Last Name",class:S(["border p-2 mb-2 w-full rounded-lg",u.value?"border border-red-600":""])},null,2),[[U,t.value.Lastname]]),u.value?(a(),d("div",oe,"Lastname is required!")):w("",!0)]),e("div",null,[C(e("input",{"onUpdate:modelValue":r[2]||(r[2]=f=>t.value.username=f),placeholder:"Username",class:S(["border p-2 mb-2 w-full rounded-lg",g.value?"border border-red-600":""])},null,2),[[U,t.value.username]]),g.value?(a(),d("div",ne,"Username is required!")):w("",!0)]),e("div",null,[C(e("input",{"onUpdate:modelValue":r[3]||(r[3]=f=>t.value.password=f),placeholder:"Password",type:"password",class:S(["border p-2 mb-2 w-full rounded-lg",b.value?"border border-red-600":""])},null,2),[[U,t.value.password]]),b.value?(a(),d("div",le,"Password is required!")):w("",!0)]),e("div",ae,[e("button",de,c(m.isEdit?"Save Changes":"Add User"),1),e("button",{onClick:y,type:"button",class:"bg-red-500 text-white p-2 rounded ml-2"}," Cancel ")])],32)])])):w("",!0)}},N=D(re,[["__scopeId","data-v-06a94b35"]]),ie={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center"},ue={class:"bg-white p-6 rounded-lg shadow-md w-1/2"},ce={class:"text-xl font-semibold mb-4 text-center"},me={key:0,class:"text-sm text-red-600 ml-1"},pe={key:0,class:"text-sm text-red-600 ml-1"},be={class:"action float-end mt-5"},ve={type:"submit",class:"bg-green-500 text-white p-2 rounded"},fe={__name:"CompanyForm",props:{isOpen:Boolean,isEdit:Boolean,company:Object},emits:["submit","close"],setup(m,{emit:h}){const p=m,x=h,t=n({...p.company}),i=n(!1),u=n(!1);j(()=>p.company,_=>{t.value={..._}});function g(){if(i.value=!1,u.value=!1,!t.value.logo)return i.value=!0;if(!t.value.name)return u.value=!0;x("submit",{...t.value})}function b(){x("close")}return(_,y)=>m.isOpen?(a(),d("div",ie,[e("div",ue,[e("h2",ce,c(m.isEdit?"Edit Company":"Add Company"),1),e("form",{onSubmit:q(g,["prevent"]),class:"mb-6"},[e("div",null,[C(e("input",{"onUpdate:modelValue":y[0]||(y[0]=v=>t.value.logo=v),placeholder:"Logo URL",class:S(["border p-2 mb-2 w-full rounded-lg",i.value?"border border-red-600":""])},null,2),[[U,t.value.logo]]),i.value?(a(),d("div",me,"Logo is required!")):w("",!0)]),e("div",null,[C(e("input",{"onUpdate:modelValue":y[1]||(y[1]=v=>t.value.name=v),placeholder:"Company Name",class:S(["border p-2 mb-2 w-full rounded-lg",u.value?"border border-red-600":""])},null,2),[[U,t.value.name]]),u.value?(a(),d("div",pe,"Company name is required!")):w("",!0)]),e("div",be,[e("button",ve,c(m.isEdit?"Save Changes":"Add Company"),1),e("button",{onClick:b,type:"button",class:"bg-red-500 text-white p-2 rounded ml-2"}," Cancel ")])],32)])])):w("",!0)}},B=D(fe,[["__scopeId","data-v-a96c5c70"]]),ye={class:"p-5"},he={class:"min-w-full bg-white rounded-md"},xe={class:"py-2 px-4 border-b"},ge={class:"py-2 px-4 border-b"},_e={class:"py-2 px-4 border-b"},we={class:"py-2 px-4 border-b"},Ce={class:"py-2 px-4 border-b"},Ue={class:"py-2 px-4 border-b w-40"},Se=["onClick"],Ee=["onClick"],ke={class:"min-w-full bg-white"},De={class:"py-2 px-4 border-b"},$e=["src"],Oe={class:"py-2 px-4 border-b"},Ae={class:"py-2 px-4 border-b"},Le={class:"py-2 px-4 border-b w-40"},Fe=["onClick"],Ve=["onClick"],Ie={__name:"EditorDashboardView",setup(m){const h=Q(),p=X(),x=Y().auth,t=F(()=>h.writerList.filter(s=>s.editorId==x.id)),i=F(()=>p.companyList),u=n({Firstname:"",Lastname:"",username:"",password:"",Type:"Writer",Status:"Inactive"}),g=n({logo:"",name:"",Status:"Inactive"}),b=n(!1),_=n(!1),y=n({id:null,Firstname:"",Lastname:"",username:"",password:"",Type:"Writer",Status:"Inactive"}),v=n(!1),r=n(!1),f=n({id:null,logo:"",name:"",Status:"Inactive"});function $(){b.value=!1}function O(){_.value=!1}function A(){v.value=!1}function L(){r.value=!1}function H(){b.value=!0}function T(s){y.value={...s},_.value=!0}function M(){v.value=!0}function P(s){f.value={...s},r.value=!0}function W(s){s.editorId=x.id,h.addUser(s),$()}function z(s){h.editUser(s.id,s),O()}function R(s,l){h.deleteUser(s,l)}function G(s){p.addCompany(s),A()}function J(s){p.editCompany(s.id,s),L()}function K(s){p.deleteCompany(s)}return(s,l)=>(a(),d("div",ye,[l[2]||(l[2]=e("h1",{class:"text-2xl font-bold mb-4 mt-10 text-center"},"Editor Dashboard",-1)),e("div",{class:"float-end"},[e("button",{onClick:H,class:"bg-green-500 text-white p-2 rounded mb-6 mr-2 w-32"},"Add User"),e("button",{onClick:M,class:"bg-green-500 text-white p-2 rounded mb-6 w-32"},"Add Company")]),l[3]||(l[3]=e("div",null,null,-1)),l[4]||(l[4]=e("h2",{class:"text-xl font-semibold mb-4"},"Users",-1)),e("table",he,[l[0]||(l[0]=e("thead",null,[e("tr",null,[e("th",{class:"py-2 px-4 border-b"},"First Name"),e("th",{class:"py-2 px-4 border-b"},"Last Name"),e("th",{class:"py-2 px-4 border-b"},"Username"),e("th",{class:"py-2 px-4 border-b"},"Type"),e("th",{class:"py-2 px-4 border-b"},"Status"),e("th",{class:"py-2 px-4 border-b"},"Actions")])],-1)),e("tbody",null,[(a(!0),d(V,null,I(t.value,o=>(a(),d("tr",{key:o.id},[e("td",xe,c(o.Firstname),1),e("td",ge,c(o.Lastname),1),e("td",_e,c(o.username),1),e("td",we,c(o.Type),1),e("td",Ce,c(o.Status),1),e("td",Ue,[e("button",{onClick:k=>T(o),class:"bg-yellow-500 text-white p-2 rounded mr-2 w-16"},"Edit",8,Se),e("button",{onClick:k=>R(o.id,o.Type),class:"bg-red-500 text-white p-2 rounded w-16"},"Delete",8,Ee)])]))),128))])]),l[5]||(l[5]=e("h2",{class:"text-xl font-semibold mb-4"},"Companies",-1)),e("table",ke,[l[1]||(l[1]=e("thead",null,[e("tr",null,[e("th",{class:"py-2 px-4 border-b"},"Logo"),e("th",{class:"py-2 px-4 border-b"},"Name"),e("th",{class:"py-2 px-4 border-b"},"Status"),e("th",{class:"py-2 px-4 border-b"},"Actions")])],-1)),e("tbody",null,[(a(!0),d(V,null,I(i.value,o=>(a(),d("tr",{key:o.id},[e("td",De,[e("img",{src:o.logo,alt:"Company Logo",class:"w-16 h-16 object-cover"},null,8,$e)]),e("td",Oe,c(o.name),1),e("td",Ae,c(o.Status),1),e("td",Le,[e("button",{onClick:k=>P(o),class:"bg-yellow-500 text-white p-2 rounded mr-2 w-16"},"Edit",8,Fe),e("button",{onClick:k=>K(o.id),class:"bg-red-500 text-white p-2 rounded w-16"},"Delete",8,Ve)])]))),128))])]),E(N,{isOpen:b.value,isEdit:!1,user:u.value,onSubmit:W,onClose:$},null,8,["isOpen","user"]),E(N,{isOpen:_.value,isEdit:!0,user:y.value,onSubmit:z,onClose:O},null,8,["isOpen","user"]),E(B,{isOpen:v.value,isEdit:!1,company:g.value,onSubmit:G,onClose:A},null,8,["isOpen","company"]),E(B,{isOpen:r.value,isEdit:!0,company:f.value,onSubmit:J,onClose:L},null,8,["isOpen","company"])]))}},Be=D(Ie,[["__scopeId","data-v-a30ecc78"]]);export{Be as default};
