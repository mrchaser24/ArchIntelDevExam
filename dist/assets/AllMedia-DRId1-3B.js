import{_ as E,g as k,u as A,h as S,j as v,r as m,c as u,a as t,F as T,k as W,f as w,o as p,t as a}from"./index--2fNskIG.js";import{A as L}from"./ArticleForm-CFPqZJAT.js";const $={class:"p-5"},C={class:"min-w-full bg-white"},D={class:"py-2 px-4 border-b"},F=["src"],I={class:"py-2 px-4 border-b"},U={class:"py-2 px-4 border-b"},B=["href"],M={class:"py-2 px-4 border-b"},N={class:"py-2 px-4 border-b"},O={class:"py-2 px-4 border-b"},j={class:"py-2 px-4 border-b w-40"},V=["onClick"],P=["onClick"],q={__name:"AllMedia",setup(z){const d=k(),n=A().auth,b=S(),y=v(()=>d.articles),l=m(!1),i=m({id:null,Title:"",Image:"",Link:"",Date:"",Content:"",Status:"For Edit",Writer:"",Editor:"",Company:"",userType:"Writer"});function f(s){n.Type==="Writer"&&s.Status==="Published"||(i.value={...s},i.value.userType=n.Type,i.value.Writer=n.id,l.value=!0)}function _(){l.value=!1}function x(s){i.userType=n.Type,i.Writer=n.id,d.editArticle(s.id,s),_()}function g(s){d.deleteArticle(s)}function h(s,r){let e=b.writerList.find(c=>c.id==s.Editor),o=b.editorList.find(c=>c.id==s.Editor);if(r=="Writer"&&o&&s.userType=="Editor")return`${o.Firstname} ${o.Lastname}`;if(r=="Writer"&&e&&s.userType=="Writer")return`${e.Firstname} ${e.Lastname}`;if(r=="Editor")return`${o.Firstname} ${o.Lastname}`}return(s,r)=>(p(),u("div",$,[r[1]||(r[1]=t("h1",{class:"text-2xl font-bold mb-4 mt-10 text-center"},"All Media",-1)),t("table",C,[r[0]||(r[0]=t("thead",null,[t("tr",null,[t("th",{class:"py-2 px-4 border-b"},"Image"),t("th",{class:"py-2 px-4 border-b"},"Title"),t("th",{class:"py-2 px-4 border-b"},"Link"),t("th",{class:"py-2 px-4 border-b"},"Writer"),t("th",{class:"py-2 px-4 border-b"},"Editor"),t("th",{class:"py-2 px-4 border-b"},"Status"),t("th",{class:"py-2 px-4 border-b"},"Actions")])],-1)),t("tbody",null,[(p(!0),u(T,null,W(y.value,e=>(p(),u("tr",{key:e.id},[t("td",D,[t("img",{src:e.Image,alt:"Article Image",class:"w-16 h-16 object-cover"},null,8,F)]),t("td",I,a(e.Title),1),t("td",U,[t("a",{href:e.Link,target:"_blank"},a(e.Link),9,B)]),t("td",M,a(h(e,"Writer")),1),t("td",N,a(h(e,"Editor")),1),t("td",O,a(e.Status),1),t("td",j,[t("button",{onClick:o=>f(e),class:"bg-yellow-500 text-white p-2 rounded mr-2 w-16"}," Edit ",8,V),t("button",{onClick:o=>g(e.id),class:"bg-red-500 text-white p-2 rounded w-16"}," Delete ",8,P)])]))),128))])]),w(L,{isOpen:l.value,isEdit:!0,article:i.value,onSubmit:x,onClose:_},null,8,["isOpen","article"])]))}},J=E(q,[["__scopeId","data-v-90a4542a"]]);export{J as default};
